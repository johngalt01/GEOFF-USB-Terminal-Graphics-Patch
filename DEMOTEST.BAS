10 ' SETUP TERMINAL DRAW FUNCTIONS FOR ALTAIR PRO 8800 GEOFF TERMINAL
15 ' FORCE ALL STRINGS TO BE STATIC NOT DYNAMIC TO SAVE GARBAGE COLLECTION ISSUES WITH MBASIC AND LARGE NUMBERS OF STRINGS.

20 ' SETUP THE GRAPHICS FUNCTION HEADERS
25 F1$="[Z1;":F2$="[Z2;":F3$="[Z3;":F4$="[Z4;":F5$="[Z5;":F6$="[Z6;":F7$="[Z7;":F8$="[Z8;":F9$="[Z9;":F10$="[Z10;":F11$="[Z11;":F12$="[Z12;"
30 F13$=";":F14$="Z":F15$="[":F16$="H":F17$="[H":F18$="[2J"

35 ' ASSEMBLE PRIMATIVES
40 ESC$= CHR$(27) 'ESC CHARACTER                                                  
45 HOME$=ESC$+F17$ 'HOME THE CURSOR UPPER LEFT
50 CLS$= ESC$+F18$ 'CLEAR SREEN
55 CUROFF$=ESC$+"[?25l":CURON$=ESC$+"[?25h"

60 ' SETUP FUNCTIONS
65 DEF FNLTRIM$ (X$)= RIGHT$(X$, (LEN(X$)-1)) 'STRIP THE LEADING SPACE STR CONVERT
70 DEF FNLOATE$ (X$,Y$)= ESC$+F15$+X$+F13$+Y$+F16$ 'LOCATE TEXT ON TERMINAL AT ROW,COL                           
100 DEF FNLINON$ (X1$,Y1$,X2$,Y2$)= ESC$+F1$+X1$+F13$+Y1$+F13$+X2$+F13$+Y2$+F14$ ' LINE(X1,Y1,X2,Y2) LINE ON
105 DEF FNLINOFF$ (X1$,Y1$,X2$,Y2$)= ESC$+F6$+X1$+F13$+Y1$+F13$+X2$+F13$+Y2$+F14$ ' LINE(X1,Y1,X2,Y2) LINE OFF
110 DEF FNBOXON$ (X1$,Y1$,X2$,Y2$)= ESC$+F2$+X1$+F13$+Y1$+F13$+X2$+F13$+Y2$+F14$ ' BOX(X1,Y1,X2,Y2) BOX ON
115 DEF FNBOXOFF$ (X1$,Y1$,X2$,Y2$)= ESC$+F7$+X1$+F13$+Y1$+F13$+X2$+F13$+Y2$+F14$ ' BOX(X1,Y1,X2,Y2) BOX OFF
120 DEF FNFILLBOXON$ (X1$,Y1$,X2$,Y2$)= ESC$+F3$+X1$+F13$+Y1$+F13$+X2$+F13$+Y2$+F14$ ' FILLBOXON(X1,Y1,X2,Y2) FILLBOX ON
125 DEF FNFILLBOXOFF$ (X1$,Y1$,X2$,Y2$)= ESC$+F8$+X1$+F13$+Y1$+F13$+X2$+F13$+Y2$+F14$ ' FILLBOXOFF(X1,Y1,X2,Y2) FILLBOX OFF
130 DEF FNCIRCLEON$ (X1$,Y1$,R$)= ESC$+F4$+X1$+F13$+Y1$+F13$+R$+F14$ ' CIRCLE (X1,Y1,R) CIRCLE ON
135 DEF FNCIRCLEOFF$ (X1$,Y1$,R$)= ESC$+F9$+X1$+F13$+Y1$+F13$+R$+F14$ ' CIRCLE (X1,Y1,R) CIRCLE OFF
140 DEF FNFILLCIRCLEON$ (X1$,Y1$,R$)= ESC$+F5$+X1$+F13$+Y1$+F13$+R$+F14$ ' FILLCIRCLEON (X1,Y1,R) FILL CIRCLE ON
145 DEF FNFILLCIRCLEOFF$ (X1$,Y1$,R$)= ESC$+F10$+X1$+F13$+Y1$+F13$+R$+F14$ ' FILLCIRCLEOFF (X1,Y1,R) FILL CIRCLE OFF
150 DEF FNPIXELON$ (X1$,Y1$)= ESC$+F1$+X1$+F13$+Y1$+F13$+X1$+F13$+Y1$+F14$ ' PIXEL(X1,Y1)  PIXEL ON
155 DEF FNPIXELOFF$ (X1$,Y1$)= ESC$+F6$+X1$+F13$+Y1$+F13$+X1$+F13$+Y1$+F14$ ' PIXEL(X1,Y1) PIXEL OFF

400 '
410 ' PREPARE FOR GRAPHICS
420 PRINT CLS$;:PRINT CUROFF$; ' CURSOR OFF

500 '
510 ' MAIN PROGRAM  TEST FUNCTIONS
515 X1=1:Y1=10:X2=20:Y2=20:R=5:TEXTX=10:TEXTY=20:SX1=50:SY1=50:SR=20
517 PRINT HOME$+FNFILLCIRCLEON$ (FNLTRIM$(STR$(SX1)),FNLTRIM$(STR$(SY1)),FNLTRIM$(STR$(SR)))

520 PRINT HOME$+FNLINON$ (FNLTRIM$(STR$(X1)),FNLTRIM$(STR$(Y1)),FNLTRIM$(STR$(X2)),FNLTRIM$(STR$(Y2)));
525 PRINT FNLOATE$(FNLTRIM$(STR$(TEXTX)),FNLTRIM$(STR$(TEXTY)));:PRINT "DRAW A LINE       "
530 WHILE INKEY$<>" ":WEND

535 PRINT HOME$+FNLINOFF$ (FNLTRIM$(STR$(X1)),FNLTRIM$(STR$(Y1)),FNLTRIM$(STR$(X2)),FNLTRIM$(STR$(Y2)));
540 PRINT FNLOATE$(FNLTRIM$(STR$(TEXTX)),FNLTRIM$(STR$(TEXTY)));:PRINT "ERASE THE LINE     "
545 WHILE INKEY$<>" ":WEND

550 PRINT HOME$+FNBOXON$ (FNLTRIM$(STR$(X1)),FNLTRIM$(STR$(Y1)),FNLTRIM$(STR$(X2)),FNLTRIM$(STR$(Y2)));
555 PRINT FNLOATE$(FNLTRIM$(STR$(TEXTX)),FNLTRIM$(STR$(TEXTY)));:PRINT "DRAW A BOX         "
560 WHILE INKEY$<>" ":WEND

565 PRINT HOME$+FNBOXOFF$ (FNLTRIM$(STR$(X1)),FNLTRIM$(STR$(Y1)),FNLTRIM$(STR$(X2)),FNLTRIM$(STR$(Y2)));
570 PRINT FNLOATE$(FNLTRIM$(STR$(TEXTX)),FNLTRIM$(STR$(TEXTY)));:PRINT "ERASE A BOX        "
575 WHILE INKEY$<>" ":WEND

580 PRINT HOME$+FNFILLBOXON$ (FNLTRIM$(STR$(X1)),FNLTRIM$(STR$(Y1)),FNLTRIM$(STR$(X2)),FNLTRIM$(STR$(Y2)));
585 PRINT FNLOATE$(FNLTRIM$(STR$(TEXTX)),FNLTRIM$(STR$(TEXTY)));:PRINT "DRAW A FILLBOX      "
590 WHILE INKEY$<>" ":WEND

595 PRINT HOME$+FNFILLBOXOFF$ (FNLTRIM$(STR$(X1)),FNLTRIM$(STR$(Y1)),FNLTRIM$(STR$(X2)),FNLTRIM$(STR$(Y2)));
600 PRINT FNLOATE$(FNLTRIM$(STR$(TEXTX)),FNLTRIM$(STR$(TEXTY)));:PRINT "ERASE A FILLBOX      "
605 WHILE INKEY$<>" ":WEND

610 PRINT HOME$+FNCIRCLEON$ (FNLTRIM$(STR$(X2)),FNLTRIM$(STR$(Y1)),FNLTRIM$(STR$(R)));
615 PRINT FNLOATE$(FNLTRIM$(STR$(TEXTX)),FNLTRIM$(STR$(TEXTY)));:PRINT "DRAW A CIRCLE        "
620 WHILE INKEY$<>" ":WEND

625 PRINT HOME$+FNCIRCLEOFF$ (FNLTRIM$(STR$(X2)),FNLTRIM$(STR$(Y1)),FNLTRIM$(STR$(R)));
630 PRINT FNLOATE$(FNLTRIM$(STR$(TEXTX)),FNLTRIM$(STR$(TEXTY)));:PRINT "ERASE A CIRCLE      "
635 WHILE INKEY$<>" ":WEND

640 PRINT HOME$+FNFILLCIRCLEON$ (FNLTRIM$(STR$(X2)),FNLTRIM$(STR$(Y1)),FNLTRIM$(STR$(R)));
645 PRINT FNLOATE$(FNLTRIM$(STR$(TEXTX)),FNLTRIM$(STR$(TEXTY)));:PRINT "DRAW A FILL CIRCLE       "
650 WHILE INKEY$<>" ":WEND

655 PRINT HOME$+FNFILLCIRCLEOFF$ (FNLTRIM$(STR$(X2)),FNLTRIM$(STR$(Y1)),FNLTRIM$(STR$(R)));
660 PRINT FNLOATE$(FNLTRIM$(STR$(TEXTX)),FNLTRIM$(STR$(TEXTY)));:PRINT "ERASE A FILL CIRCLE      "
665 WHILE INKEY$<>" ":WEND

670 PRINT HOME$+FNPIXELON$ (FNLTRIM$(STR$(X2)),FNLTRIM$(STR$(Y2)));
675 PRINT FNLOATE$(FNLTRIM$(STR$(TEXTX)),FNLTRIM$(STR$(TEXTY)));:PRINT "DRAW A PIXEL         "
680 WHILE INKEY$<>" ":WEND

685 PRINT HOME$+FNPIXELOFF$ (FNLTRIM$(STR$(X2)),FNLTRIM$(STR$(Y2)));
690 PRINT FNLOATE$(FNLTRIM$(STR$(TEXTX)),FNLTRIM$(STR$(TEXTY)));:PRINT "ERASE A PIXEL       "
700 WHILE INKEY$<>" ":WEND

710 PRINT FNLOATE$(FNLTRIM$(STR$(TEXTX)),FNLTRIM$(STR$(TEXTY)));:PRINT "END DEMO               ":PRINT "PRESS ANY KEY TO RETURN TO CP/M"
720 WHILE INKEY$<>" ":WEND

730 PRINT CURON$;:PRINT CLS$;
1000 END
